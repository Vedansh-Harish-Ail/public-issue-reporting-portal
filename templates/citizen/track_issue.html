{% extends "base.html" %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/citizen.css') }}">
{% endblock %}

{% block content %}

<div class="container my-5">
  <h2 class="section-title">Track Issue Status</h2>

  <!-- Filter Section (Simplified) -->
  <div class="about-card mb-5" style="padding: 20px; align-items: center; gap: 20px;">

    <div style="flex: 1;">
      <h5 style="margin: 0; color: var(--primary-color);">Recent Reports</h5>
      <p style="margin: 0; font-size: 14px; color: #666;">View the status of issues reported by citizens.</p>
    </div>

    <!-- Optional: Add filter form here if needed later -->
  </div>

  <!-- Issues Grid -->
  <div class="services-grid">
    {% for i in issues %}
    <div class="service-card" style="text-align: left;">

      <div style="display: flex; justify-content: space-between; align-items: flex-start;">
        <h4 style="margin-top: 0;">{{ i.category }}</h4>

        <!-- Status Badge -->
        <span class="issue-status {{ i.status|lower|replace(' ', '-') }}">
          {{ i.status }}
        </span>
      </div>

      <p style="margin: 10px 0; color: #444; min-height: 40px;">
        {{ i.description }}
      </p>

      <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">

      <div style="font-size: 12px; color: #888; display: flex; justify-content: space-between;">
        <span>ğŸ“ {{ i.location }}</span>
        <span>ğŸ“… {{ i.created_at }}</span>
      </div>

    </div>
    {% else %}
    <div class="col-12 text-center text-muted">
      <p>No issues found.</p>
    </div>
    {% endfor %}
  </div>

</div>

{% endblock %}